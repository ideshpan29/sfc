<?xml version="1.0" encoding="UTF-8"?>
<pd:ProcessDefinition xmlns:pfx6="http://www.tibco.com/ns/no_namespace_schema_location/SharedResources/mapResource.xsd" xmlns:pfx7="http://www.tibco.com/ns/no_namespace_schema_location/SharedResources/mapresource1.xsd" xmlns:pfx8="http://www.tibco.com/schemas/ResourceCreationAndMapping/ResourceCreationSchema/Schema.xsd" xmlns:pfx="http://www.tibco.com/pe/WriteToLogActivitySchema" xmlns:pfx9="http://www.tibco.com/schemas/ResourceCreationAndMapping/ResourceCreationSchema/Schema.xsd2" xmlns:pfx2="http://www.tibco.com/schemas/UserOnboard/SharedResources/Schema.xsd" xmlns:ns="www.tibco.com/plugin/java/JavaMethodActivityInput" xmlns:pfx3="http://www.tibco.com/schemas/UserOnboard/SharedResources/Schema1.xsd" xmlns:pfx4="http://www.tibco.com/ns/no_namespace_schema_location/SharedResources/createResource.xsd" xmlns:pfx5="http://www.tibco.com/namespaces/tnt/plugins/json" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:ns2="http://xmlns.tibco.com/bw/activity/xml/render/bytesEnvelope/2003/05" xmlns:ns1="http://www.tibco.com/pe/DeployedVarsType" xmlns:ns4="http://www.tibco.com/schemas/ResourceCreationAndMapping/Schemas/Schema.xsd" xmlns:ns3="www.tibco.com/plugin/Sleep" xmlns:xsl="http://www.w3.org/1999/XSL/Transform" xmlns:ns5="http://www.tibco.com/namespaces/tnt/plugins/file" xmlns:pd="http://xmlns.tibco.com/bw/process/2003" xmlns:pfx11="http://www.tibco.com/schemas/SFC_FOS_BPM/Processes/FOSBPMInterface/Adapter/FOSBPMInterface/SubProcesses/ResourceCreation/Schemas/Schema.xsd" xmlns:pfx12="http://www.tibco.com/schemas/SFC_FOS_BPM/Processes/FOSBPMInterface/Adapter/FOSBPMInterface/SubProcesses/ResourceCreationAndMapping/Schemas/Schema4.xsd" xmlns:pfx10="http://www.tibco.com/schemas/OnboardingProjectBW/ResourceCreationSchema/Schema.xsd" xmlns:pfx13="http://www.tibco.com/schemas/SFC_FOS_BPM/SharedResources/SchemaDefinitions/Schema.xsd">
    <xsd:import namespace="http://www.tibco.com/schemas/UserOnboard/SharedResources/Schema.xsd" schemaLocation="/SharedResources/inputSchema.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/UserOnboard/SharedResources/Schema1.xsd" schemaLocation="/SharedResources/outputSchema.xsd"/>
    <xsd:import namespace="http://www.tibco.com/ns/no_namespace_schema_location/SharedResources/createResource.xsd" schemaLocation="/SharedResources/createResource.xsd"/>
    <xsd:import namespace="http://www.tibco.com/ns/no_namespace_schema_location/SharedResources/mapResource.xsd" schemaLocation="/SharedResources/mapResource.xsd"/>
    <xsd:import namespace="http://www.tibco.com/ns/no_namespace_schema_location/SharedResources/mapresource1.xsd" schemaLocation="/SharedResources/mapresource1.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/ResourceCreationAndMapping/ResourceCreationSchema/Schema.xsd" schemaLocation="/ResourceCreationSchema/inputSchema.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/ResourceCreationAndMapping/ResourceCreationSchema/Schema.xsd2" schemaLocation="/ResourceCreationSchema/outputSchema.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/OnboardingProjectBW/ResourceCreationSchema/Schema.xsd" schemaLocation="/ResourceCreationSchema/LdapEntrySchema.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/SFC_FOS_BPM/Processes/FOSBPMInterface/Adapter/FOSBPMInterface/SubProcesses/ResourceCreation/Schemas/Schema.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/SFC_FOS_BPM/Processes/FOSBPMInterface/Adapter/FOSBPMInterface/SubProcesses/ResourceCreationAndMapping/Schemas/Schema4.xsd"/>
    <xsd:import namespace="http://www.tibco.com/schemas/SFC_FOS_BPM/SharedResources/SchemaDefinitions/Schema.xsd" schemaLocation="/SharedResources/SchemaDefinitions/sfcfosbpmschema.xsd"/>
    <pd:name>Processes/FOSBPMInterface/Adapter/FOSBPMInterface/Processes/LdapEntry.process</pd:name>
    <pd:startName>Start</pd:startName>
    <pd:startType ref="pfx13:ldapentryinputrepeat"/>
    <pd:startX>104</pd:startX>
    <pd:startY>138</pd:startY>
    <pd:returnBindings>
        <pfx13:ldapentryinputrepeat>
            <xsl:for-each select="$Start/pfx13:ldapentryinputrepeat/pfx13:input">
                <pfx13:input>
                    <xsl:if test="pfx13:firstname">
                        <pfx13:firstname>
                            <xsl:value-of select="pfx13:firstname"/>
                        </pfx13:firstname>
                    </xsl:if>
                    <xsl:if test="pfx13:lastname">
                        <pfx13:lastname>
                            <xsl:value-of select="pfx13:lastname"/>
                        </pfx13:lastname>
                    </xsl:if>
                    <xsl:if test="pfx13:loginName">
                        <pfx13:loginName>
                            <xsl:value-of select="pfx13:loginName"/>
                        </pfx13:loginName>
                    </xsl:if>
                    <xsl:if test="pfx13:email">
                        <pfx13:email>
                            <xsl:value-of select="pfx13:email"/>
                        </pfx13:email>
                    </xsl:if>
                    <xsl:if test="pfx13:password">
                        <pfx13:password>
                            <xsl:value-of select="pfx13:password"/>
                        </pfx13:password>
                    </xsl:if>
                    <xsl:if test="pfx13:orgmodelname">
                        <pfx13:orgmodelname>
                            <xsl:value-of select="pfx13:orgmodelname"/>
                        </pfx13:orgmodelname>
                    </xsl:if>
                    <xsl:if test="pfx13:flag">
                        <pfx13:flag>
                            <xsl:value-of select="pfx13:flag"/>
                        </pfx13:flag>
                    </xsl:if>
                    <xsl:if test="pfx13:entity">
                        <pfx13:entity>
                            <xsl:value-of select="pfx13:entity"/>
                        </pfx13:entity>
                    </xsl:if>
                    <xsl:if test="pfx13:addby">
                        <pfx13:addby>
                            <xsl:value-of select="pfx13:addby"/>
                        </pfx13:addby>
                    </xsl:if>
                    <xsl:choose>
                        <xsl:when test="$LdapCreation/Status='FAILED'">
                            <pfx13:response>
                                <xsl:value-of select="'FAILED'"/>
                            </pfx13:response>
                        </xsl:when>
                        <xsl:otherwise>
                            <pfx13:response>
                                <xsl:value-of select="$Call-CreateResource-Process/pfx13:createresourceinput/pfx13:createresourcerequest[1]/pfx13:result"/>
                            </pfx13:response>
                        </xsl:otherwise>
                    </xsl:choose>
                </pfx13:input>
            </xsl:for-each>
        </pfx13:ldapentryinputrepeat>
    </pd:returnBindings>
    <pd:endName>End</pd:endName>
    <pd:endType ref="pfx13:ldapentryinputrepeat"/>
    <pd:endX>828</pd:endX>
    <pd:endY>136</pd:endY>
    <pd:errorSchemas/>
    <pd:processVariables>
        <LdapCreation>
            <xsd:element name="Status" type="xsd:string"/>
        </LdapCreation>
    </pd:processVariables>
    <pd:targetNamespace>http://xmlns.example.com/1509441068367</pd:targetNamespace>
    <pd:activity name="Assign Error">
        <pd:type>com.tibco.pe.core.AssignActivity</pd:type>
        <pd:resourceType>ae.activities.assignActivity</pd:resourceType>
        <pd:x>394</pd:x>
        <pd:y>35</pd:y>
        <config>
            <variableName>LdapCreation</variableName>
        </config>
        <pd:inputBindings>
            <Status>
                <xsl:value-of select="'FAILED'"/>
            </Status>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Call CreateResource Process">
        <pd:type>com.tibco.pe.core.CallProcessActivity</pd:type>
        <pd:resourceType>ae.process.subprocess</pd:resourceType>
        <pd:x>680</pd:x>
        <pd:y>146</pd:y>
        <config>
            <processName>/Processes/FOSBPMInterface/Adapter/FOSBPMInterface/Processes/createResource.process</processName>
        </config>
        <pd:inputBindings>
            <pfx13:createresourceinput>
                <xsl:for-each select="$Start/pfx13:ldapentryinputrepeat/pfx13:input">
                    <pfx13:createresourcerequest>
                        <xsl:if test="pfx13:loginName">
                            <pfx13:name>
                                <xsl:value-of select="pfx13:loginName"/>
                            </pfx13:name>
                        </xsl:if>
                        <xsl:if test="pfx13:orgmodelname">
                            <pfx13:orgname>
                                <xsl:value-of select="pfx13:orgmodelname"/>
                            </pfx13:orgname>
                        </xsl:if>
                        <xsl:if test="pfx13:flag">
                            <pfx13:flag>
                                <xsl:value-of select="pfx13:flag"/>
                            </pfx13:flag>
                        </xsl:if>
                        <xsl:if test="pfx13:entity">
                            <pfx13:entityname>
                                <xsl:value-of select="pfx13:entity"/>
                            </pfx13:entityname>
                        </xsl:if>
                        <xsl:if test="pfx13:email">
                            <pfx13:email>
                                <xsl:value-of select="pfx13:email"/>
                            </pfx13:email>
                        </xsl:if>
                        <xsl:if test="pfx13:password">
                            <pfx13:password>
                                <xsl:value-of select="generate-id($Start/pfx13:ldapentryinputrepeat/pfx13:input)"/>
                            </pfx13:password>
                        </xsl:if>
                        <xsl:if test="pfx13:addby">
                            <pfx13:addby>
                                <xsl:value-of select="pfx13:addby"/>
                            </pfx13:addby>
                        </xsl:if>
                        <pfx13:action>
                            <xsl:value-of select="'ADD'"/>
                        </pfx13:action>
                        <pfx13:result>
                            <xsl:value-of select="'FAILED'"/>
                        </pfx13:result>
                    </pfx13:createresourcerequest>
                </xsl:for-each>
            </pfx13:createresourceinput>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Failure LDAP Entry Log">
        <pd:type>com.tibco.plugin.file.FileWriteActivity</pd:type>
        <pd:resourceType>ae.activities.FileWriteActivity</pd:resourceType>
        <pd:x>828</pd:x>
        <pd:y>422</pd:y>
        <config>
            <encoding>text</encoding>
            <compressFile>None</compressFile>
            <append>true</append>
            <createMissingDirectories>true</createMissingDirectories>
        </config>
        <pd:inputBindings>
            <ns5:WriteActivityInputTextClass>
                <fileName>
                    <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/FileNames/LogFile"/>
                </fileName>
                <textContent>
                    <xsl:value-of select="concat($Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:loginName,&quot;******LDAP Entry Not Created*****&quot;)"/>
                </textContent>
                <addLineSeparator>
                    <xsl:value-of select="1"/>
                </addLineSeparator>
            </ns5:WriteActivityInputTextClass>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Ldap Entry Code">
        <pd:type>com.tibco.plugin.java.JavaActivity</pd:type>
        <pd:resourceType>ae.javapalette.javaActivity</pd:resourceType>
        <pd:x>258</pd:x>
        <pd:y>138</pd:y>
        <config>
            <javaArchive>/Processes/FOSBPMInterface/Adapter/FOSBPMInterface/Shared Resources/AliasLibrary.aliaslib</javaArchive>
            <fileName>LdapEntryLdapEntryCode</fileName>
            <packageName>Processes.FOSBPMInterface.Adapter.FOSBPMInterface.Processes.LdapEntry</packageName>
            <fullsource>package Processes.FOSBPMInterface.Adapter.FOSBPMInterface.Processes.LdapEntry;
import java.util.*;
import java.io.*;
import java.io.IOException;
import org.apache.directory.api.ldap.model.cursor.CursorException;
import org.apache.directory.api.ldap.model.cursor.EntryCursor;
import org.apache.directory.api.ldap.model.cursor.SearchCursor;
import org.apache.directory.api.ldap.model.entry.DefaultEntry;
import org.apache.directory.api.ldap.model.entry.Entry;
import org.apache.directory.api.ldap.model.exception.LdapException;
import org.apache.directory.api.ldap.model.exception.LdapInvalidDnException;
import org.apache.directory.api.ldap.model.message.AddRequest;
import org.apache.directory.api.ldap.model.message.AddRequestImpl;
import org.apache.directory.api.ldap.model.message.AddResponse;
import org.apache.directory.api.ldap.model.message.Response;
import org.apache.directory.api.ldap.model.message.ResultCodeEnum;
import org.apache.directory.api.ldap.model.message.SearchRequest;
import org.apache.directory.api.ldap.model.message.SearchRequestImpl;
import org.apache.directory.api.ldap.model.message.SearchResultEntry;
import org.apache.directory.api.ldap.model.message.SearchScope;
import org.apache.directory.api.ldap.model.message.controls.ManageDsaITImpl;
import org.apache.directory.api.ldap.model.name.Dn;
import org.apache.directory.ldap.client.api.LdapConnection;
import org.apache.directory.ldap.client.api.LdapConnectionConfig;
import org.apache.directory.ldap.client.api.LdapNetworkConnection;
import org.apache.directory.api.ldap.model.exception.*;
import org.apache.log4j.*;

public class LdapEntryLdapEntryCode{
/****** START SET/GET METHOD, DO NOT MODIFY *****/
	protected String Name = "";
	protected String mail = "";
	protected String password = "";
	protected String LDapHostName = "";
	protected String LDapUserName = "";
	protected String LDapPassword = "";
	protected String LDapPartitionName = "";
	protected String resourceCreationDN = "";
	protected String SucessoutputMessage = "";
	protected String FailureOutputMessage = "";
	protected int LDapPort = 0;
	protected String FirstName = "";
	protected String LastName = "";
	protected String EmployeeType = "";
	protected String outputMessage = "";
	public String getName() {
		return Name;
	}
	public void setName(String val) {
		Name = val;
	}
	public String getmail() {
		return mail;
	}
	public void setmail(String val) {
		mail = val;
	}
	public String getpassword() {
		return password;
	}
	public void setpassword(String val) {
		password = val;
	}
	public String getLDapHostName() {
		return LDapHostName;
	}
	public void setLDapHostName(String val) {
		LDapHostName = val;
	}
	public String getLDapUserName() {
		return LDapUserName;
	}
	public void setLDapUserName(String val) {
		LDapUserName = val;
	}
	public String getLDapPassword() {
		return LDapPassword;
	}
	public void setLDapPassword(String val) {
		LDapPassword = val;
	}
	public String getLDapPartitionName() {
		return LDapPartitionName;
	}
	public void setLDapPartitionName(String val) {
		LDapPartitionName = val;
	}
	public String getresourceCreationDN() {
		return resourceCreationDN;
	}
	public void setresourceCreationDN(String val) {
		resourceCreationDN = val;
	}
	public String getSucessoutputMessage() {
		return SucessoutputMessage;
	}
	public void setSucessoutputMessage(String val) {
		SucessoutputMessage = val;
	}
	public String getFailureOutputMessage() {
		return FailureOutputMessage;
	}
	public void setFailureOutputMessage(String val) {
		FailureOutputMessage = val;
	}
	public int getLDapPort() {
		return LDapPort;
	}
	public void setLDapPort(int val) {
		LDapPort = val;
	}
	public String getFirstName() {
		return FirstName;
	}
	public void setFirstName(String val) {
		FirstName = val;
	}
	public String getLastName() {
		return LastName;
	}
	public void setLastName(String val) {
		LastName = val;
	}
	public String getEmployeeType() {
		return EmployeeType;
	}
	public void setEmployeeType(String val) {
		EmployeeType = val;
	}
	public String getoutputMessage() {
		return outputMessage;
	}
	public void setoutputMessage(String val) {
		outputMessage = val;
	}
/****** END SET/GET METHOD, DO NOT MODIFY *****/
	public LdapEntryLdapEntryCode() {
	}
	public void invoke() throws Exception {
/* Available Variables: DO NOT MODIFY
	In  : String Name
	In  : String mail
	In  : String password
	In  : String LDapHostName
	In  : String LDapUserName
	In  : String LDapPassword
	In  : String LDapPartitionName
	In  : String resourceCreationDN
	In  : String SucessoutputMessage
	In  : String FailureOutputMessage
	In  : int LDapPort
	In  : String FirstName
	In  : String LastName
	In  : String EmployeeType
	Out : String outputMessage
* Available Variables: DO NOT MODIFY *****/

LdapConnection conn=new LdapNetworkConnection(getLDapHostName(),getLDapPort());
		try {
			conn.bind(getLDapUserName(),getLDapPassword());
		} catch (Exception e) {
			e.printStackTrace();
		}
		SearchRequest req = new SearchRequestImpl();
	    req.setScope( SearchScope.SUBTREE );
	    req.addAttributes( "*" );
	    req.setTimeLimit( 0 );
	    try {
			req.setBase( new Dn( getLDapPartitionName() ) );
		} catch (LdapInvalidDnException e1) {
			// TODO Auto-generated catch block
			e1.printStackTrace();
		}
	    try {
			req.setFilter( "(mail="+getmail()+")" );
		} catch (LdapException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}

	    // Process the request
	    SearchCursor searchCursor;
		try {
			searchCursor = conn.search( req );
			try {
				while ( searchCursor.next() )
				{
				    Response response = searchCursor.get();

				    // process the SearchResultEntry
				    if ( response instanceof SearchResultEntry )
				    {	
					//flag=1;
					
				        Entry resultEntry = ( ( SearchResultEntry ) response ).getEntry();
				        //System.out.println( flag );
				    }
				}
			} catch (CursorException e) {
				// TODO Auto-generated catch block
				e.printStackTrace();
			}
		} catch (LdapException e) {;
			// TODO Auto-generated catch block
			e.printStackTrace();
		} 
		//if(flag==1){  
		try {
			conn.add(
			        new DefaultEntry(
			            "OU="+getName()+","+getresourceCreationDN(), // The Dn
			            "ObjectClass:inetOrgPerson",
			            "ObjectClass:person ",
			            "ObjectClass: top",
			            "cn: "+getName(),
			            "sn: "+getName(),
				    "mail: "+getmail(),	
				     "employeeType: "+getEmployeeType(),		
				    "userpassword: "+getpassword()
			            ) );
					setoutputMessage(getSucessoutputMessage());
		} catch (LdapEntryAlreadyExistsException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
			setoutputMessage(getFailureOutputMessage());
		}

}
}
</fullsource>
            <outputData>
                <row>
                    <fieldName>outputMessage</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
            </outputData>
            <inputData>
                <row>
                    <fieldName>Name</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>mail</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>password</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>LDapHostName</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>LDapUserName</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>LDapPassword</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>LDapPartitionName</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>resourceCreationDN</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>SucessoutputMessage</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>FailureOutputMessage</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>LDapPort</fieldName>
                    <fieldType>int</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>FirstName</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>LastName</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
                <row>
                    <fieldName>EmployeeType</fieldName>
                    <fieldType>string</fieldType>
                    <fieldRequired>optional</fieldRequired>
                </row>
            </inputData>
            <byteCode>
                <class>
                    <name>LdapEntryLdapEntryCode</name>
                    <byteCode>yv66vgAAADQBCwkAUgCYCQBSAJkJAFIAmgkAUgCbCQBSAJwJAFIAnQkAUgCeCQBSAJ8JAFIAoAkAUgChCQBSAKIJAFIAowkAUgCkCQBSAKUJAFIApgoAQACnCACoBwCpCgBSAKoKAFIAqwoAEgCsCgBSAK0KAFIArgsArwCwBwCxCgAZALIHALMKABsApwkAtAC1CwC2ALcHALgIALkLALYAugsAtgC7BwC8CgBSAL0KACMAvgsAtgC/BwDACgAnALIHAMEKACkApwgAwgoAKQDDCgBSAMQIAMUKACkAxgsAtgDHBwDICgAxALILAK8AyQsAygDLCwDKAMwHAM0HAM4LADcAzwcA0AoAOQCyBwDRCADSCgBSANMIANQKAFIA1QcA1ggA1wgA2AgA2QgA2ggA2wgA3AgA3QoAUgDeCADfCgBSAOAKADsA4QsArwDiCgBSAOMKAFIA5AcA5QoATwCyCgBSAOYHAOcBAAROYW1lAQASTGphdmEvbGFuZy9TdHJpbmc7AQAEbWFpbAEACHBhc3N3b3JkAQAMTERhcEhvc3ROYW1lAQAMTERhcFVzZXJOYW1lAQAMTERhcFBhc3N3b3JkAQARTERhcFBhcnRpdGlvbk5hbWUBABJyZXNvdXJjZUNyZWF0aW9uRE4BABNTdWNlc3NvdXRwdXRNZXNzYWdlAQAURmFpbHVyZU91dHB1dE1lc3NhZ2UBAAhMRGFwUG9ydAEAAUkBAAlGaXJzdE5hbWUBAAhMYXN0TmFtZQEADEVtcGxveWVlVHlwZQEADW91dHB1dE1lc3NhZ2UBAAdnZXROYW1lAQAUKClMamF2YS9sYW5nL1N0cmluZzsBAARDb2RlAQAPTGluZU51bWJlclRhYmxlAQAHc2V0TmFtZQEAFShMamF2YS9sYW5nL1N0cmluZzspVgEAB2dldG1haWwBAAdzZXRtYWlsAQALZ2V0cGFzc3dvcmQBAAtzZXRwYXNzd29yZAEAD2dldExEYXBIb3N0TmFtZQEAD3NldExEYXBIb3N0TmFtZQEAD2dldExEYXBVc2VyTmFtZQEAD3NldExEYXBVc2VyTmFtZQEAD2dldExEYXBQYXNzd29yZAEAD3NldExEYXBQYXNzd29yZAEAFGdldExEYXBQYXJ0aXRpb25OYW1lAQAUc2V0TERhcFBhcnRpdGlvbk5hbWUBABVnZXRyZXNvdXJjZUNyZWF0aW9uRE4BABVzZXRyZXNvdXJjZUNyZWF0aW9uRE4BABZnZXRTdWNlc3NvdXRwdXRNZXNzYWdlAQAWc2V0U3VjZXNzb3V0cHV0TWVzc2FnZQEAF2dldEZhaWx1cmVPdXRwdXRNZXNzYWdlAQAXc2V0RmFpbHVyZU91dHB1dE1lc3NhZ2UBAAtnZXRMRGFwUG9ydAEAAygpSQEAC3NldExEYXBQb3J0AQAEKEkpVgEADGdldEZpcnN0TmFtZQEADHNldEZpcnN0TmFtZQEAC2dldExhc3ROYW1lAQALc2V0TGFzdE5hbWUBAA9nZXRFbXBsb3llZVR5cGUBAA9zZXRFbXBsb3llZVR5cGUBABBnZXRvdXRwdXRNZXNzYWdlAQAQc2V0b3V0cHV0TWVzc2FnZQEABjxpbml0PgEAAygpVgEABmludm9rZQEADVN0YWNrTWFwVGFibGUHAOcHAOgHALEHAOkHAMAHAMgHAOoHANAHAOUBAApFeGNlcHRpb25zAQAKU291cmNlRmlsZQEAG0xkYXBFbnRyeUxkYXBFbnRyeUNvZGUuamF2YQwAUwBUDABVAFQMAFYAVAwAVwBUDABYAFQMAFkAVAwAWgBUDABbAFQMAFwAVAwAXQBUDABeAF8MAGAAVAwAYQBUDABiAFQMAGMAVAwAiACJAQAAAQA6b3JnL2FwYWNoZS9kaXJlY3RvcnkvbGRhcC9jbGllbnQvYXBpL0xkYXBOZXR3b3JrQ29ubmVjdGlvbgwAbgBlDAB8AH0MAIgA6wwAcABlDAByAGUHAOgMAOwA7QEAE2phdmEvbGFuZy9FeGNlcHRpb24MAO4AiQEAPW9yZy9hcGFjaGUvZGlyZWN0b3J5L2FwaS9sZGFwL21vZGVsL21lc3NhZ2UvU2VhcmNoUmVxdWVzdEltcGwHAO8MAPAA8QcA6QwA8gDzAQAQamF2YS9sYW5nL1N0cmluZwEAASoMAPQA9QwA9gD3AQArb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbmFtZS9EbgwAdABlDACIAPgMAPkA+gEARG9yZy9hcGFjaGUvZGlyZWN0b3J5L2FwaS9sZGFwL21vZGVsL2V4Y2VwdGlvbi9MZGFwSW52YWxpZERuRXhjZXB0aW9uAQAXamF2YS9sYW5nL1N0cmluZ0J1aWxkZXIBAAYobWFpbD0MAPsA/AwAagBlAQABKQwA/QBlDAD+AP8BADtvcmcvYXBhY2hlL2RpcmVjdG9yeS9hcGkvbGRhcC9tb2RlbC9leGNlcHRpb24vTGRhcEV4Y2VwdGlvbgwBAAEBBwDqDAECAQMMAQQBBQEANG9yZy9hcGFjaGUvZGlyZWN0b3J5L2FwaS9sZGFwL21vZGVsL21lc3NhZ2UvUmVzcG9uc2UBAD1vcmcvYXBhY2hlL2RpcmVjdG9yeS9hcGkvbGRhcC9tb2RlbC9tZXNzYWdlL1NlYXJjaFJlc3VsdEVudHJ5DAEGAQcBADpvcmcvYXBhY2hlL2RpcmVjdG9yeS9hcGkvbGRhcC9tb2RlbC9jdXJzb3IvQ3Vyc29yRXhjZXB0aW9uAQA2b3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvZW50cnkvRGVmYXVsdEVudHJ5AQADT1U9DABkAGUBAAEsDAB2AGUBABBqYXZhL2xhbmcvT2JqZWN0AQAZT2JqZWN0Q2xhc3M6aW5ldE9yZ1BlcnNvbgEAE09iamVjdENsYXNzOnBlcnNvbiABABBPYmplY3RDbGFzczogdG9wAQAEY246IAEABHNuOiABAAZtYWlsOiABAA5lbXBsb3llZVR5cGU6IAwAhABlAQAOdXNlcnBhc3N3b3JkOiAMAGwAZQwAiAEIDAEJAQoMAHgAZQwAhwBpAQBNb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvZXhjZXB0aW9uL0xkYXBFbnRyeUFscmVhZHlFeGlzdHNFeGNlcHRpb24MAHoAZQEAXFByb2Nlc3Nlcy9GT1NCUE1JbnRlcmZhY2UvQWRhcHRlci9GT1NCUE1JbnRlcmZhY2UvUHJvY2Vzc2VzL0xkYXBFbnRyeS9MZGFwRW50cnlMZGFwRW50cnlDb2RlAQAzb3JnL2FwYWNoZS9kaXJlY3RvcnkvbGRhcC9jbGllbnQvYXBpL0xkYXBDb25uZWN0aW9uAQA5b3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hSZXF1ZXN0AQA3b3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvY3Vyc29yL1NlYXJjaEN1cnNvcgEAFihMamF2YS9sYW5nL1N0cmluZztJKVYBAARiaW5kAQAnKExqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nOylWAQAPcHJpbnRTdGFja1RyYWNlAQA3b3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hTY29wZQEAB1NVQlRSRUUBADlMb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hTY29wZTsBAAhzZXRTY29wZQEAdihMb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hTY29wZTspTG9yZy9hcGFjaGUvZGlyZWN0b3J5L2FwaS9sZGFwL21vZGVsL21lc3NhZ2UvU2VhcmNoUmVxdWVzdDsBAA1hZGRBdHRyaWJ1dGVzAQBQKFtMamF2YS9sYW5nL1N0cmluZzspTG9yZy9hcGFjaGUvZGlyZWN0b3J5L2FwaS9sZGFwL21vZGVsL21lc3NhZ2UvU2VhcmNoUmVxdWVzdDsBAAxzZXRUaW1lTGltaXQBAD4oSSlMb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hSZXF1ZXN0OwEAFihbTGphdmEvbGFuZy9TdHJpbmc7KVYBAAdzZXRCYXNlAQBqKExvcmcvYXBhY2hlL2RpcmVjdG9yeS9hcGkvbGRhcC9tb2RlbC9uYW1lL0RuOylMb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hSZXF1ZXN0OwEABmFwcGVuZAEALShMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFuZy9TdHJpbmdCdWlsZGVyOwEACHRvU3RyaW5nAQAJc2V0RmlsdGVyAQBPKExqYXZhL2xhbmcvU3RyaW5nOylMb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBpL2xkYXAvbW9kZWwvbWVzc2FnZS9TZWFyY2hSZXF1ZXN0OwEABnNlYXJjaAEAdihMb3JnL2FwYWNoZS9kaXJlY3RvcnkvYXBp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</byteCode>
                </class>
            </byteCode>
        </config>
        <pd:inputBindings>
            <xsl:choose>
                <xsl:when test="$Start/pfx13:ldapentryinputrepeat/pfx13:input/pfx13:entity=&quot;Contractor&quot;">
                    <javaCodeActivityInput>
                        <Name>
                            <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:loginName"/>
                        </Name>
                        <mail>
                            <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:email"/>
                        </mail>
                        <password>
                            <xsl:value-of select="generate-id($Start/pfx13:ldapentryinputrepeat/pfx13:input)"/>
                        </password>
                        <LDapHostName>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/LDAPHost"/>
                        </LDapHostName>
                        <LDapUserName>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/LDAPUserName"/>
                        </LDapUserName>
                        <LDapPassword>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/LDAPPassword"/>
                        </LDapPassword>
                        <LDapPartitionName>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/LDAPPartitionName"/>
                        </LDapPartitionName>
                        <resourceCreationDN>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/ResourceCreationName"/>
                        </resourceCreationDN>
                        <SucessoutputMessage>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/SuccessOutputMessage"/>
                        </SucessoutputMessage>
                        <FailureOutputMessage>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/FailureOutputMessage"/>
                        </FailureOutputMessage>
                        <LDapPort>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/port"/>
                        </LDapPort>
                        <xsl:if test="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:firstname">
                            <FirstName>
                                <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:firstname"/>
                            </FirstName>
                        </xsl:if>
                        <xsl:if test="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:lastname">
                            <LastName>
                                <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:lastname"/>
                            </LastName>
                        </xsl:if>
                        <EmployeeType>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/ExternalLDAP/EmployeeType"/>
                        </EmployeeType>
                    </javaCodeActivityInput>
                </xsl:when>
                <xsl:otherwise>
                    <javaCodeActivityInput>
                        <Name>
                            <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:loginName"/>
                        </Name>
                        <mail>
                            <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:email"/>
                        </mail>
                        <password>
                            <xsl:value-of select="generate-id($Start/pfx13:ldapentryinputrepeat/pfx13:input)"/>
                        </password>
                        <LDapHostName>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/Ldaphost"/>
                        </LDapHostName>
                        <LDapUserName>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/LdapUserName"/>
                        </LDapUserName>
                        <LDapPassword>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/LdapPassword"/>
                        </LDapPassword>
                        <LDapPartitionName>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/LdapPartitionName"/>
                        </LDapPartitionName>
                        <resourceCreationDN>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/LdapBaseDn"/>
                        </resourceCreationDN>
                        <SucessoutputMessage>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/SuccessMsg"/>
                        </SucessoutputMessage>
                        <FailureOutputMessage>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/FailureMsg"/>
                        </FailureOutputMessage>
                        <LDapPort>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/LdapPort"/>
                        </LDapPort>
                        <xsl:if test="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:firstname">
                            <FirstName>
                                <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:firstname"/>
                            </FirstName>
                        </xsl:if>
                        <xsl:if test="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:lastname">
                            <LastName>
                                <xsl:value-of select="$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:lastname"/>
                            </LastName>
                        </xsl:if>
                        <EmployeeType>
                            <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/InternalLDAP/EmployeeType"/>
                        </EmployeeType>
                    </javaCodeActivityInput>
                </xsl:otherwise>
            </xsl:choose>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Password Logs">
        <pd:type>com.tibco.plugin.file.FileWriteActivity</pd:type>
        <pd:resourceType>ae.activities.FileWriteActivity</pd:resourceType>
        <pd:x>411</pd:x>
        <pd:y>140</pd:y>
        <config>
            <encoding>text</encoding>
            <compressFile>None</compressFile>
            <createMissingDirectories>true</createMissingDirectories>
            <append>true</append>
        </config>
        <pd:inputBindings>
            <ns5:WriteActivityInputTextClass>
                <fileName>
                    <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/FileNames/PasswordLogs"/>
                </fileName>
                <textContent>
                    <xsl:value-of select="concat(&quot;Name : &quot;,$Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:loginName,&quot;  Password : &quot;,generate-id($Start/pfx13:ldapentryinputrepeat/pfx13:input))"/>
                </textContent>
                <addLineSeparator>
                    <xsl:value-of select="1"/>
                </addLineSeparator>
            </ns5:WriteActivityInputTextClass>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Successfull LDAP Entry Log">
        <pd:type>com.tibco.plugin.file.FileWriteActivity</pd:type>
        <pd:resourceType>ae.activities.FileWriteActivity</pd:resourceType>
        <pd:x>547</pd:x>
        <pd:y>146</pd:y>
        <config>
            <encoding>text</encoding>
            <compressFile>None</compressFile>
            <append>true</append>
            <createMissingDirectories>true</createMissingDirectories>
        </config>
        <pd:inputBindings>
            <ns5:WriteActivityInputTextClass>
                <fileName>
                    <xsl:value-of select="$_globalVariables/ns1:GlobalVariables/BPM/CreateResource/FileNames/LogFile"/>
                </fileName>
                <textContent>
                    <xsl:value-of select="concat($Start/pfx13:ldapentryinputrepeat/pfx13:input[1]/pfx13:loginName,&quot;LDAP Entry Created Succesfully &quot;)"/>
                </textContent>
                <addLineSeparator>
                    <xsl:value-of select="1"/>
                </addLineSeparator>
            </ns5:WriteActivityInputTextClass>
        </pd:inputBindings>
    </pd:activity>
    <pd:activity name="Catch">
        <pd:type>com.tibco.pe.core.CatchActivity</pd:type>
        <pd:resourceType>ae.activities.catch</pd:resourceType>
        <pd:x>826</pd:x>
        <pd:y>566</pd:y>
        <pd:handler>true</pd:handler>
        <config>
            <catchAll>true</catchAll>
        </config>
        <pd:inputBindings/>
    </pd:activity>
    <pd:activity name="Assign Erorr">
        <pd:type>com.tibco.pe.core.AssignActivity</pd:type>
        <pd:resourceType>ae.activities.assignActivity</pd:resourceType>
        <pd:x>826</pd:x>
        <pd:y>297</pd:y>
        <config>
            <variableName>LdapCreation</variableName>
        </config>
        <pd:inputBindings>
            <Status>
                <xsl:value-of select="'FAILED'"/>
            </Status>
        </pd:inputBindings>
    </pd:activity>
    <pd:transition>
        <pd:from>Start</pd:from>
        <pd:to>Ldap Entry Code</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Ldap Entry Code</pd:from>
        <pd:to>Assign Error</pd:to>
        <pd:xpathDescription>Failure</pd:xpathDescription>
        <pd:lineType>Multiple Bends</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>xpath</pd:conditionType>
        <pd:xpath>$Ldap-Entry-Code/javaCodeActivityOutput/outputMessage="Failure"</pd:xpath>
    </pd:transition>
    <pd:transition>
        <pd:from>Call CreateResource Process</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Failure LDAP Entry Log</pd:from>
        <pd:to>Assign Erorr</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Successfull LDAP Entry Log</pd:from>
        <pd:to>Call CreateResource Process</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Ldap Entry Code</pd:from>
        <pd:to>Password Logs</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>otherwise</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Password Logs</pd:from>
        <pd:to>Successfull LDAP Entry Log</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Catch</pd:from>
        <pd:to>Failure LDAP Entry Log</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Assign Error</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>One Bend</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
    <pd:transition>
        <pd:from>Assign Erorr</pd:from>
        <pd:to>End</pd:to>
        <pd:lineType>Default</pd:lineType>
        <pd:lineColor>-16777216</pd:lineColor>
        <pd:conditionType>always</pd:conditionType>
    </pd:transition>
</pd:ProcessDefinition>